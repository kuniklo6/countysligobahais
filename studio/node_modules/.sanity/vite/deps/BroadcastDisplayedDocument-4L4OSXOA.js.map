{
  "version": 3,
  "sources": ["../../../sanity/src/presentation/loader/BroadcastDisplayedDocument.tsx"],
  "sourcesContent": ["import {memo, useEffect} from 'react'\nimport {type SanityDocument} from 'sanity'\n\nimport {usePresentationParams} from '../usePresentationParams'\nimport {useDisplayedDocumentBroadcaster} from './DisplayedDocumentBroadcaster'\n\n/**\n * Sanity Form input component that reads the current form state and broadcasts it to\n * the live query store\n */\nfunction BroadcastDisplayedDocument(props: {\n  value: Partial<SanityDocument> | null | undefined\n}): React.JSX.Element | null {\n  const setDisplayedDocument = useDisplayedDocumentBroadcaster()\n  const params = usePresentationParams(false)\n\n  useEffect(() => {\n    const timeout = setTimeout(() => setDisplayedDocument?.(props.value), 10)\n    return () => clearTimeout(timeout)\n  }, [params?.perspective, props.value, setDisplayedDocument])\n\n  return null\n}\n\nexport default memo(BroadcastDisplayedDocument)\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUA,SAAAA,2BAAAC,OAAA;AAAA,QAAAC,QAAAC,2BAAA,CAAA,GAGEC,uBAA6BC,gCAAAA,GAC7BC,SAAeC,sBAAsB,KAAK;AAAC,MAAAC;AAAAN,IAAAA,CAAAA,MAAAD,MAAAQ,SAAAP,EAAAA,CAAAA,MAAAE,wBAEjCI,KAAAA,MAAA;AACR,UAAAE,UAAgBC,WAAW,MAAMP,uBAAuBH,MAAKQ,KAAM,GAAG,EAAE;AAAC,WAClE,MAAMG,aAAaF,OAAO;EAAC,GACnCR,EAAA,CAAA,IAAAD,MAAAQ,OAAAP,EAAAA,CAAAA,IAAAE,sBAAAF,EAAAA,CAAAA,IAAAM,MAAAA,KAAAN,EAAA,CAAA;AAAG,QAAAW,KAAAP,QAAMQ;AAAa,MAAAC;AAAA,SAAAb,EAAA,CAAA,MAAAD,MAAAQ,SAAAP,EAAA,CAAA,MAAAE,wBAAAF,EAAA,CAAA,MAAAW,MAApBE,KAAA,CAACF,IAAqBZ,MAAKQ,OAAQL,oBAAoB,GAACF,EAAA,CAAA,IAAAD,MAAAQ,OAAAP,EAAAA,CAAAA,IAAAE,sBAAAF,EAAAA,CAAAA,IAAAW,IAAAX,EAAAA,CAAAA,IAAAa,MAAAA,KAAAb,EAAA,CAAA,OAH3Dc,wBAAUR,IAGPO,EAAwD,GAEpD;AAAI;AAGb,IAAA,yCAAeE,mBAAKjB,0BAA0B;",
  "names": ["BroadcastDisplayedDocument", "props", "$", "_c", "setDisplayedDocument", "useDisplayedDocumentBroadcaster", "params", "usePresentationParams", "t0", "value", "timeout", "setTimeout", "clearTimeout", "t1", "perspective", "t2", "useEffect", "memo"]
}
